{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/teranov/Desktop/proyectos/repuestos/node_modules/react-native-lazyload/lib/LazyloadScrollView.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, PropTypes } from 'react';\nimport ReactNative from \"react-native-web/dist/index\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollableMixin from 'react-native-scrollable-mixin';\nimport LazyloadManager from \"./LazyloadManager\";\n\nvar LazyloadScrollView = function (_Component) {\n  _inherits(LazyloadScrollView, _Component);\n\n  var _super = _createSuper(LazyloadScrollView);\n\n  function LazyloadScrollView() {\n    var _this;\n\n    _classCallCheck(this, LazyloadScrollView);\n\n    _this = _super.call(this);\n\n    _this.componentWillUnmount = function () {\n      if (_this._manager) {\n        _this._manager.destroy();\n\n        _this._manager = null;\n      }\n    };\n\n    _this.getScrollResponder = function () {\n      return _this._scrollResponder;\n    };\n\n    _this.refresh = function () {\n      _this._onScroll({\n        nativeEvent: {\n          contentOffset: {\n            y: _this.currentPosition.y,\n            x: _this.currentPosition.x\n          }\n        }\n      });\n    };\n\n    _this._manager = null;\n    _this._scrollResponder = null;\n\n    _this._onLayout = function (e, node) {\n      _this.props.onLayout && _this.props.onLayout(e, node);\n      var _e$nativeEvent$layout = e.nativeEvent.layout,\n          width = _e$nativeEvent$layout.width,\n          height = _e$nativeEvent$layout.height;\n      var _this$props = _this.props,\n          name = _this$props.name,\n          renderDistance = _this$props.renderDistance,\n          recycle = _this$props.recycle,\n          recycleDistance = _this$props.recycleDistance;\n      _this._manager = new LazyloadManager({\n        name: name,\n        dimensions: {\n          width: width,\n          height: height\n        },\n        offset: renderDistance,\n        recycle: recycle ? recycleDistance : 0,\n        horizontal: _this.props.horizontal\n      }, ReactNative.findNodeHandle(_assertThisInitialized(_this)));\n    };\n\n    _this._onScroll = function (e) {\n      _this.props.onScroll && _this.props.onScroll(e);\n      var _e$nativeEvent$conten = e.nativeEvent.contentOffset,\n          x = _e$nativeEvent$conten.x,\n          y = _e$nativeEvent$conten.y;\n      _this.currentPosition = {\n        x: x,\n        y: y\n      };\n      _this._manager && _this._manager.calculate({\n        x: x,\n        y: y\n      });\n    };\n\n    _this.currentPosition = {\n      x: 0,\n      y: 0\n    };\n    return _this;\n  }\n\n  _createClass(LazyloadScrollView, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.props.name ? React.createElement(ScrollView, _extends({}, this.props, {\n        ref: function ref(ele) {\n          return _this2._scrollResponder = ele;\n        },\n        name: null,\n        onScroll: this._onScroll,\n        onLayout: this._onLayout,\n        scrollEventThrottle: this.props.scrollEventThrottle || 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 34\n        }\n      })) : React.createElement(ScrollView, _extends({}, this.props, {\n        ref: function ref(ele) {\n          return _this2._scrollResponder = ele;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 14\n        }\n      }));\n    }\n  }]);\n\n  return LazyloadScrollView;\n}(Component);\n\nLazyloadScrollView.displayName = 'LazyloadScrollView';\nLazyloadScrollView.propTypes = _objectSpread({\n  name: PropTypes.string,\n  renderDistance: PropTypes.number,\n  recycle: PropTypes.bool,\n  recycleDistance: PropTypes.number,\n  horizontal: PropTypes.bool\n}, ScrollView.propTypes);\nLazyloadScrollView.defaultProps = {\n  renderDistance: 0,\n  recycle: true,\n  recycleDistance: Dimensions.get('window').height * 4,\n  horizontal: false\n};\n\n_extends(LazyloadScrollView.prototype, ScrollableMixin);\n\nexport default LazyloadScrollView;","map":{"version":3,"sources":["/Users/teranov/Desktop/proyectos/repuestos/node_modules/react-native-lazyload/lib/LazyloadScrollView.js"],"names":["React","Component","PropTypes","ReactNative","ScrollableMixin","LazyloadManager","LazyloadScrollView","componentWillUnmount","_manager","destroy","getScrollResponder","_scrollResponder","refresh","_onScroll","nativeEvent","contentOffset","y","currentPosition","x","_onLayout","e","node","props","onLayout","layout","width","height","name","renderDistance","recycle","recycleDistance","dimensions","offset","horizontal","findNodeHandle","onScroll","calculate","ele","scrollEventThrottle","displayName","propTypes","string","number","bool","ScrollView","defaultProps","Dimensions","get","prototype"],"mappings":"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","sourcesContent":["import React, {\n    Component,\n    PropTypes\n} from 'react';\nimport ReactNative, {\n    ScrollView,\n    Dimensions\n} from 'react-native';\nimport ScrollableMixin from 'react-native-scrollable-mixin';\nimport LazyloadManager from './LazyloadManager';\n\nclass LazyloadScrollView extends Component{\n    static displayName = 'LazyloadScrollView';\n\n    static propTypes = {\n        name: PropTypes.string,\n        renderDistance: PropTypes.number,\n        recycle: PropTypes.bool,\n        recycleDistance : PropTypes.number,\n        horizontal: PropTypes.bool,\n        ...ScrollView.propTypes\n    };\n\n    static defaultProps = {\n        renderDistance: 0,\n        recycle: true,\n        recycleDistance: Dimensions.get('window').height * 4,\n        horizontal: false\n    };\n\n\n\n    constructor() {\n        super();\n\n        // Used for saving scroll position when refreshing\n        this.currentPosition = {\n            x: 0,\n            y: 0\n        };\n    }\n\n    componentWillUnmount = () => {\n        if(this._manager){\n            this._manager.destroy();\n            this._manager = null;\n        }\n    };\n\n    getScrollResponder = () => this._scrollResponder;\n\n    refresh = () => {\n        this._onScroll({\n            nativeEvent: {\n                contentOffset: {\n                    y: this.currentPosition.y,\n                    x: this.currentPosition.x\n                }\n            }\n        });\n    };\n\n    _manager = null;\n\n    _scrollResponder = null;\n\n    _onLayout = (e, node) => {\n        this.props.onLayout && this.props.onLayout(e, node);\n        let {width, height} = e.nativeEvent.layout;\n        let {\n            name,\n            renderDistance,\n            recycle,\n            recycleDistance\n        } = this.props;\n\n        this._manager = new LazyloadManager(\n            {\n                name,\n                dimensions: {\n                    width,\n                    height\n                },\n                offset: renderDistance,\n                recycle: recycle ? recycleDistance : 0,\n                horizontal: this.props.horizontal\n            },\n            ReactNative.findNodeHandle(this)\n        );\n\n    };\n\n    _onScroll = e => {\n        this.props.onScroll && this.props.onScroll(e);\n        let {x, y} = e.nativeEvent.contentOffset;\n        this.currentPosition = {x, y};\n        this._manager && this._manager.calculate({x, y});\n    };\n\n    render() {\n        return this.props.name ? <ScrollView\n            {...this.props}\n            ref={ele => this._scrollResponder = ele}\n            name={null}\n            onScroll={this._onScroll}\n            onLayout={this._onLayout}\n            scrollEventThrottle={this.props.scrollEventThrottle || 16}\n        /> : <ScrollView\n            {...this.props}\n            ref={ele => this._scrollResponder = ele}\n        />;\n    }\n}\n\nObject.assign(LazyloadScrollView.prototype, ScrollableMixin);\n\nexport default LazyloadScrollView;\n"]},"metadata":{},"sourceType":"module"}